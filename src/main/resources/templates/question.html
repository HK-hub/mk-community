<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Required meta tags -->

    <!-- 引入BootStrap 样式和JS支持 : 注意静态资源文件的模板引擎写法 -->

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Coder Community-Questions</title>
    <!-- Template CSS -->
    <link rel="stylesheet" href="/css/myCSS/style-starter.css">
    <script src="/js/jquery-3.5.1/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="/css/myCSS/label.css">
    <link rel="stylesheet" href="/css/navcss/nav.css">
    <script src="/js/community-js/label.js"></script>


</head>

<body>
    <!-- //header -->
    <!-- 公共: 导航条 -->
    <div th:insert="~{navigation :: header-nav}"></div>
    <main>
        <div class="w3l-contact-10 py-5" id="contact">
            <div class="form-41-mian pt-lg-4 pt-md-3 pb-md-4">
                <div class="container container-fluid" style="float: left;">
                    <div class="shadow p-3 mb-5 bg-body rounded" style="width: 1700px;margin-left: 100px;float: left;">
                        <div class="heading">
                            <h3 class="category-title mb-3">畅所欲言 </h3>
                            <p class="mb-md-5 mb-4">你可以在这里提出你在创作过程中遇到的问题，同时我们也鼓励你在此分享你的技巧或方案
                            </p>
                        </div>
                        <div class="row">
                            <div class="col-lg-8 form-inner-cont">
                                <form action="/publish/save_question" id="question-form" method="post" class="signin-form" style="margin-left: 0px;width: 1100px;max-width: 1700px; height: 700px; margin-bottom: 40px;">
                                    <input type="hidden" name="csrfmiddlewaretoken" value="HkUnP1nGPdCgM0fslQanjAH61zIyCo6X46Lieb94fIA0jv6rlo3WFXdNS8hm8LGh">
                                    <div class="form-group">
                                        <label for="标题">标题</label>
                                        <input type="text" name="title" class="form-control" maxlength="255" required="" id="id_title">
                                    </div>
                                    <div class="form-group">
                                        <label for="描述">描述</label>
                                        <textarea name="description" cols="40" rows="10" class="form-control" maxlength="2000" required="" id="id_description" placeholder="在这儿写下问题的描述~" style="height: 200px;"></textarea>

                                    </div>
                                    <div class="form-group">
                                        <label for="描述">添加标签</label>
                                        <div id="labelDiv">
                                            <input type="text" id="newLabel" style=" width:910px;height: 34px;display: inline;" placeholder="添加的标签数量不多于三个~">
                                            <button type="button" id="addBut" onclick="submitDiyLabel();" style=" font-size: 20px;
                                            height: 57px;
                                            width: 113px;
                                            background-color: cornflowerblue;
                                            color: #fff;
                                            border: 1px cornflowerblue solid;
                                            border-radius: 5px;">添加</button>
                                            <div id="SelectLabelDiv">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <button type="submit" class="btn btn-style btn-primary" style="margin-top: 100px;" onclick="saveQuestion();">提交</button>
                                    </div>
                                </form>
                            </div>
                            <div class="col-lg-4">
                                <img src="/img/question-2519654_640.png" alt="login" class="img-fluid rounded-circle">
                            </div>
                        </div>
                    </div>
                    <!-- //contacts-5-grid -->
                </div>
            </div>
        </div>
    </main>


</body>

<script>
    function saveQuestion() {
        var formdata = new FormData(document.getElementById('question-form'));
        $.ajax({
            url:"/publish/save_question",
            type: "POST",
            data: formdata,
            processData:false,
            contentType:false,
            success:function(){
                alert("发布成功");
            },
            error: function (e) {
                alert("发布失败");
            }
        })
    }
</script>

</html>